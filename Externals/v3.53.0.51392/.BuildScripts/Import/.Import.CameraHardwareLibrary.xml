<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!-- Reference source code, if it exists, and the configuration is -source; 
  Otherwise, reference External binary files -->
  <Choose>
	<When Condition="'$(ReferenceSourceCode)' == 'true' And Exists('..\CameraHardwareLibrary')">
	  <ItemGroup>
		<ProjectReference Include="..\CameraHardwareLibrary\CameraHardwareLibrary.csproj">
		  <Project>{0AA905CD-3580-4D93-834F-C829656BE67C}</Project>
		  <Name>CameraHardwareLibrary</Name>
		</ProjectReference>
	  </ItemGroup>
	</When>
	<Otherwise>
	  <ItemGroup>
		<Reference Include="CameraHardwareLibrary">
		  <HintPath>Externals\CameraHardwareLibrary\$(BinSubfolder)\CameraHardwareLibrary.exe</HintPath>
		</Reference>
	  </ItemGroup>
    </Otherwise>
  </Choose>  
</Project>