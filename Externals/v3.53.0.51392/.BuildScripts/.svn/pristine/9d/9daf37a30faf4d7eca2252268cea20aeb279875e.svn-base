<!-- 
This file can be imported into any project to add a NuGet reference to System.Buffers namespace,
with the version based on the .NET Framework.

https://docs.microsoft.com/en-us/dotnet/api/system.buffers?view=netstandard-2.1

By using a shared file, all projects are guaranteed to reference the same version, 
and if we want to upgrade, only one file needs to be updated.

Example usage:

  <ImportGroup>
	<Import Project=".BuildScripts\NuGet\System.Buffers.xml" />
  </ImportGroup>
-->
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Choose>
    <When Condition=" '$(FrameworkConfiguration)' == 'net40' ">
      <!-- don't import anything and this doesn't work with .net4 -->
      
    </When>
    <Otherwise>
      <!-- Use latest version in major version 4 (in case of breaking change in version 5) -->
      <!-- For latest stable version (no restrictions), can change to Version="[*,9999.0]" -->
      <ItemGroup>
        <PackageReference Include="System.Buffers">
          <Version>4.5.*</Version>
        </PackageReference>
      </ItemGroup>
    </Otherwise>
  </Choose>

</Project>